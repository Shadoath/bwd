<% size ||= 21 %>
<% empty_stars = 3 - rating.abs %>
<% if rating == 0 %>
    <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -3, star_type: starable.class.to_s, star_id: starable.id} %>
    <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -2, star_type: starable.class.to_s, star_id: starable.id} %>
    <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -1, star_type: starable.class.to_s, star_id: starable.id} %>
    <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 1, star_type: starable.class.to_s, star_id: starable.id} %>
    <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 2, star_type: starable.class.to_s, star_id: starable.id} %>
    <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 3, star_type: starable.class.to_s, star_id: starable.id} %>
<% elsif rating > 0 %>
  <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -3, star_type: starable.class.to_s, star_id: starable.id} %>
  <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -2, star_type: starable.class.to_s, star_id: starable.id} %>
  <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: -1, star_type: starable.class.to_s, star_id: starable.id} %>
  <% rating_counter = 0 %>
  <% rating.times do %>
    <% rating_counter = rating_counter + 1 %>
    <%= image_tag "good-star.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: rating_counter, star_type: starable.class.to_s, star_id: starable.id} %>
  <% end %>
  <% empty_stars.times do %>
    <% rating_counter = rating_counter + 1 %>
    <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: rating_counter, star_type: starable.class.to_s, star_id: starable.id} %>
  <% end %>
<% else %>
  <% rating_counter = -3 %>
  <% empty_stars.times do %>
    <%= image_tag "bad-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: rating_counter, star_type: starable.class.to_s, star_id: starable.id} %>
    <% rating_counter = rating_counter + 1 %>
  <% end %>
  <% rating.abs.times do %>
    <%= image_tag "bad-star.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: rating_counter, star_type: starable.class.to_s, star_id: starable.id} %>
    <% rating_counter = rating_counter + 1 %>
  <% end %>
  <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 1, star_type: starable.class.to_s, star_id: starable.id} %>
  <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 2, star_type: starable.class.to_s, star_id: starable.id} %>
  <%= image_tag "good-star-empty.png", size: "#{size}x#{size}", class: "rating-star", data: {rating: 3, star_type: starable.class.to_s, star_id: starable.id} %>
<% end %>
